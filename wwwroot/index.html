<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyMoon</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8f9fa;
            display: flex;
            height: 100vh;
            color: #333;
            overflow: hidden;
        }

        /* Panel lateral izquierdo fijo */
        .sidebar {
            width: 220px;
            background: linear-gradient(135deg, #ff6b9d, #ff4d8d);
            display: flex;
            flex-direction: column;
            padding: 25px 15px;
            box-shadow: 2px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        .sidebar-header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .app-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .app-subtitle {
            font-size: 13px;
            opacity: 0.9;
        }

        /* Avatar redondo en el sidebar */
        .sidebar-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px auto;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            position: relative;
            cursor: pointer;
        }

        .sidebar-avatar:hover::after {
            content: 'üì∑';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            border-radius: 50%;
        }

        .sidebar-avatar-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .avatar-placeholder {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b9d, #ff4d8d);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 28px;
        }

        /* Botones de navegaci√≥n con tooltips */
        .nav-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
            flex: 1;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            padding: 14px 16px;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            font-size: 15px;
            text-decoration: none;
            position: relative;
        }

        .nav-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateX(3px);
        }

        .nav-btn.active {
            background-color: white;
            color: #ff4d8d;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
        }

        .nav-icon {
            font-size: 18px;
            margin-right: 12px;
            width: 20px;
            text-align: center;
        }

        .nav-text {
            font-weight: 600;
        }

        /* Tooltips */
        .tooltip {
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            background-color: #333;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 13px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            margin-left: 10px;
            z-index: 1000;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }

        .tooltip::before {
            content: '';
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translateY(-50%);
            border-width: 6px;
            border-style: solid;
            border-color: transparent #333 transparent transparent;
        }

        .nav-btn:hover .tooltip {
            opacity: 1;
            visibility: visible;
            margin-left: 15px;
        }

        .sidebar-footer {
            margin-top: auto;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            text-align: center;
            font-size: 11px;
            opacity: 0.8;
        }

        /* Contenido principal */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 25px;
            overflow-y: auto;
            background-color: #f0f2f5;
        }

        .content-header {
            font-size: 26px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .content-section {
            background-color: white;
            border-radius: 12px;
            padding: 22px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }

        .section-title {
            font-size: 19px;
            font-weight: 700;
            margin-bottom: 18px;
            color: #ff4d8d;
            display: flex;
            align-items: center;
        }

        .section-title-icon {
            margin-right: 10px;
            font-size: 20px;
        }

        .profile-card {
            display: flex;
            align-items: center;
            gap: 18px;
            padding: 18px;
            border-radius: 10px;
            background: linear-gradient(135deg, #fff5f8, #ffeef3);
            margin-bottom: 18px;
            border: 1px solid #ffd6e0;
        }

        .profile-avatar {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b9d, #ff4d8d);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 26px;
            box-shadow: 0 3px 8px rgba(255, 107, 157, 0.3);
            overflow: hidden;
            position: relative;
            cursor: pointer;
        }

        .profile-avatar:hover::after {
            content: 'üì∑';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            border-radius: 50%;
        }

        .profile-avatar-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .profile-info {
            flex: 1;
        }

        .profile-name {
            font-weight: 700;
            margin-bottom: 6px;
            font-size: 17px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .profile-name:hover {
            color: #ff4d8d;
        }

        .profile-status {
            font-size: 13px;
            color: #666;
            display: flex;
            align-items: center;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #4CAF50;
            margin-right: 8px;
        }

        .chat-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .chat-item {
            display: flex;
            align-items: center;
            padding: 14px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
            position: relative;
        }

        .chat-item:hover {
            background-color: #f8f8f8;
            border-color: #ffd6e0;
            transform: translateY(-1px);
        }

        .chat-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffb6c1, #ff8fa3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 14px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .chat-avatar-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .chat-info {
            flex: 1;
        }

        .chat-name {
            font-weight: 600;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-time {
            font-size: 11px;
            color: #999;
            font-weight: normal;
        }

        .chat-preview {
            font-size: 13px;
            color: #777;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .settings-list {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .setting-item {
            display: flex;
            align-items: center;
            padding: 14px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #f0f0f0;
            position: relative;
        }

        .setting-item:hover {
            background-color: #fff5f8;
            border-color: #ffd6e0;
        }

        .setting-icon {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            background-color: #fff5f8;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 14px;
            color: #ff4d8d;
            font-size: 17px;
        }

        .setting-info {
            flex: 1;
        }

        .setting-title {
            font-weight: 600;
            margin-bottom: 4px;
            font-size: 15px;
        }

        .setting-desc {
            font-size: 12px;
            color: #777;
        }

        /* Tooltips para elementos del contenido */
        .chat-item .tooltip,
        .setting-item .tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: white;
            padding: 6px 10px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            margin-bottom: 5px;
            z-index: 1000;
        }

        .chat-item .tooltip::before,
        .setting-item .tooltip::before {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        .chat-item:hover .tooltip,
        .setting-item:hover .tooltip {
            opacity: 1;
            visibility: visible;
            margin-bottom: 10px;
        }

        /* Modal para cambiar nombre y foto */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            color: #ff4d8d;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #777;
        }

        .close-btn:hover {
            color: #ff4d8d;
        }

        .modal-body {
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 15px;
            transition: border-color 0.3s;
        }

        .form-input:focus {
            border-color: #ff4d8d;
            outline: none;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: #ff4d8d;
            color: white;
        }

        .btn-primary:hover {
            background-color: #ff2d7a;
        }

        .btn-secondary {
            background-color: #f0f0f0;
            color: #555;
        }

        .btn-secondary:hover {
            background-color: #e0e0e0;
        }

        /* Bot√≥n de cambiar foto separado */
        .change-photo-btn {
            background-color: #ff4d8d;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 12px;
            font-size: 13px;
            cursor: pointer;
            margin-top: 8px;
            transition: background-color 0.3s;
        }

        .change-photo-btn:hover {
            background-color: #ff2d7a;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                width: 200px;
            }
        }

        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                padding: 15px;
            }
            
            .nav-container {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 8px;
            }
            
            .nav-btn {
                flex: 1;
                min-width: 110px;
                justify-content: center;
                padding: 12px;
            }
            
            .nav-text {
                font-size: 13px;
            }

            .tooltip {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Panel lateral izquierdo fijo -->
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="app-title">MyMoon</div>
            <div class="app-subtitle" id="sidebar-name">Nombre</div>
        </div>
        
        <!-- Avatar redondo -->
        <div class="sidebar-avatar" id="sidebar-avatar">
            <div class="avatar-placeholder" id="sidebar-avatar-placeholder">TU</div>
        </div>
        
        <!-- Botones de navegaci√≥n con tooltips -->
        <div class="nav-container">
            <div class="nav-btn active" id="profile-btn">
                <span class="nav-icon">üë§</span>
                <span class="nav-text">Mi Perfil</span>
                <div class="tooltip">Ver y editar tu perfil</div>
            </div>
            <div class="nav-btn" id="messages-btn">
                <span class="nav-icon">‚úâÔ∏è</span>
                <span class="nav-text">Mensajes</span>
                <div class="tooltip">Mensajes del sistema y notificaciones</div>
            </div>
            <div class="nav-btn" id="general-btn">
                <span class="nav-icon">üí¨</span>
                <span class="nav-text">Chat General</span>
                <div class="tooltip">Conversaciones con tus contactos</div>
            </div>
            <div class="nav-btn" id="settings-btn">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-text">Configuraci√≥n</span>
                <div class="tooltip">Ajustes y preferencias de la app</div>
            </div>
        </div>
        
        <div class="sidebar-footer">
            MyMoon v1.0 ‚Ä¢ 2025
        </div>
    </div>

    <!-- Contenido principal -->
    <div class="main-content">
        <!-- Secci√≥n de Perfil -->
        <div class="content-section" id="profile-section">
            <div class="section-title">
                <span class="section-title-icon">üë§</span>
                Mi Perfil
            </div>
            
            <div class="profile-card">
                <div class="profile-avatar" id="profile-avatar">
                    <div class="avatar-placeholder" id="profile-avatar-placeholder">TU</div>
                </div>
                <div class="profile-info">
                    <div class="profile-name" id="profile-name">Nombre</div>
                    <div class="profile-status">
                        <span class="status-indicator"></span>
                        En l√≠nea ‚Ä¢ √öltima vez hoy a las 00:00
                    </div>
                    <button class="change-photo-btn" id="change-photo-btn">Cambiar foto de perfil</button>
                </div>
            </div>
            
            <div class="settings-list">
                <div class="setting-item" id="edit-profile-btn">
                    <div class="setting-icon">üìù</div>
                    <div class="setting-info">
                        <div class="setting-title">Informaci√≥n personal</div>
                        <div class="setting-desc">Actualiza tu nombre, foto y estado</div>
                    </div>
                    <div class="tooltip">Editar datos personales</div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-icon">üîí</div>
                    <div class="setting-info">
                        <div class="setting-title">Privacidad</div>
                        <div class="setting-desc">Controla qui√©n puede ver tu informaci√≥n</div>
                    </div>
                    <div class="tooltip">Configurar privacidad</div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-icon">üí≥</div>
                    <div class="setting-info">
                        <div class="setting-title">M√©todos de premium</div>
                        <div class="setting-desc">Gestiona tus formas de pago</div>
                    </div>
                    <div class="tooltip">Administrar pagos</div>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de Mensajes -->
        <div class="content-section" id="messages-section" style="display: none;">
            <div class="section-title">
                <span class="section-title-icon">‚úâÔ∏è</span>
                Mensajes
            </div>
            
            <div class="chat-list">
                <div class="chat-item">
                    <div class="chat-avatar">üì¢</div>
                    <div class="chat-info">
                        <div class="chat-name">
                            Anuncios del Sistema
                            <span class="chat-time">10:30 AM</span>
                        </div>
                        <div class="chat-preview">Nueva actualizaci√≥n disponible para mejorar tu experiencia</div>
                    </div>
                    <div class="tooltip">Ver anuncio completo</div>
                </div>
                
                <div class="chat-item">
                    <div class="chat-avatar">‚≠ê</div>
                    <div class="chat-info">
                        <div class="chat-name">
                            Promociones
                            <span class="chat-time">09:15 AM</span>
                        </div>
                        <div class="chat-preview">Descuento especial del 20% en todos los planes premium</div>
                    </div>
                    <div class="tooltip">Ver promoci√≥n</div>
                </div>
                
                <div class="chat-item">
                    <div class="chat-avatar">üõ°Ô∏è</div>
                    <div class="chat-info">
                        <div class="chat-name">
                            Seguridad
                            <span class="chat-time">Ayer</span>
                        </div>
                        <div class="chat-preview">Verificaci√≥n de seguridad completada exitosamente</div>
                    </div>
                    <div class="tooltip">Detalles de seguridad</div>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de Chat General -->
        <div class="content-section" id="general-section" style="display: none;">
            <div class="section-title">
                <span class="section-title-icon">üí¨</span>
                Chats Generales
            </div>
            
            <div class="chat-list">
                <div class="chat-item">
                    <div class="chat-avatar">A</div>
                    <div class="chat-info">
                        <div class="chat-name">
                            Nombre
                            <span class="chat-time">tiempo</span>
                        </div>
                        <div class="chat-preview">Hola, ¬øc√≥mo est√°s? ¬øQuieres ir al cine esta tarde?</div>
                    </div>
                    <div class="tooltip">Abrir conversaci√≥n con Ana</div>
                </div>
                
                <div class="chat-item">
                    <div class="chat-avatar">C</div>
                    <div class="chat-info">
                        <div class="chat-name">
                            nombre
                            <span class="chat-time">tiempo</span>
                        </div>
                        <div class="chat-preview">Nos vemos ma√±ana en la reuni√≥n, no olvides los documentos</div>
                    </div>
                    <div class="tooltip">Continuar chat con Carlos</div>
                </div>
                
                <div class="chat-item">
                    <div class="chat-avatar">M</div>
                    <div class="chat-info">
                        <div class="chat-name">
                            nombre
                            <span class="chat-time">Ayer</span>
                        </div>
                        <div class="chat-preview">¬øViste el √∫ltimo mensaje que te envi√©? Es urgente</div>
                    </div>
                    <div class="tooltip">Responder a Mar√≠a</div>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de Configuraci√≥n -->
        <div class="content-section" id="settings-section" style="display: none;">
            <div class="section-title">
                <span class="section-title-icon">‚öôÔ∏è</span>
                Configuraci√≥n
            </div>
            
            <div class="settings-list">
                <div class="setting-item">
                    <div class="setting-icon">üîî</div>
                    <div class="setting-info">
                        <div class="setting-title">Notificaciones</div>
                        <div class="setting-desc">Gestiona tus notificaciones y sonidos</div>
                    </div>
                    <div class="tooltip">Configurar alertas</div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-icon">üí¨</div>
                    <div class="setting-info">
                        <div class="setting-title">Chats</div>
                        <div class="setting-desc">Tema, fondo de pantalla, historial</div>
                    </div>
                    <div class="tooltip">Personalizar chats</div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-icon">üì±</div>
                    <div class="setting-info">
                        <div class="setting-title">Almacenamiento y datos</div>
                        <div class="setting-desc">Uso de red, descarga autom√°tica</div>
                    </div>
                    <div class="tooltip">Gestionar almacenamiento</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para editar nombre -->
    <div class="modal" id="edit-name-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Cambiar Nombre</div>
                <button class="close-btn" id="close-name-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label" for="name-input">Nuevo nombre</label>
                    <input type="text" class="form-input" id="name-input" placeholder="Ingresa tu nombre">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-name-btn">Cancelar</button>
                <button class="btn btn-primary" id="save-name-btn">Guardar</button>
            </div>
        </div>
    </div>

    <!-- Input oculto para seleccionar archivo -->
    <input type="file" id="avatar-input" accept="image/*" style="display: none;">

    <script>
        // Variables globales
        let userData = {
            name: "Nombre",
            avatar: null
        };

        // Cargar datos guardados al iniciar
        function loadUserData() {
            const savedData = localStorage.getItem('mymoon_user_data');
            if (savedData) {
                userData = JSON.parse(savedData);
            }
            updateUI();
        }

        // Guardar datos en localStorage
        function saveUserData() {
            localStorage.setItem('mymoon_user_data', JSON.stringify(userData));
        }

        // Actualizar la interfaz con los datos del usuario
        function updateUI() {
            // Actualizar nombre
            document.getElementById('sidebar-name').textContent = userData.name;
            document.getElementById('profile-name').textContent = userData.name;
            
            // Actualizar iniciales en los avatares
            const initials = getInitials(userData.name);
            document.getElementById('sidebar-avatar-placeholder').textContent = initials;
            document.getElementById('profile-avatar-placeholder').textContent = initials;
            
            // Actualizar avatar si existe
            if (userData.avatar) {
                updateAvatar('sidebar-avatar', 'sidebar-avatar-placeholder', userData.avatar);
                updateAvatar('profile-avatar', 'profile-avatar-placeholder', userData.avatar);
            }
        }

        // Funci√≥n para obtener iniciales del nombre
        function getInitials(name) {
            return name.split(' ')
                .map(word => word.charAt(0).toUpperCase())
                .join('')
                .substring(0, 2);
        }

        // Funci√≥n para actualizar avatar
        function updateAvatar(avatarElementId, placeholderElementId, avatarSrc) {
            const avatarElement = document.getElementById(avatarElementId);
            const placeholderElement = document.getElementById(placeholderElementId);
            
            if (avatarSrc) {
                // Si ya existe una imagen, la actualizamos
                let img = avatarElement.querySelector('.sidebar-avatar-img') || 
                          avatarElement.querySelector('.profile-avatar-img');
                
                if (img) {
                    img.src = avatarSrc;
                } else {
                    // Si no existe, creamos una nueva imagen
                    img = document.createElement('img');
                    img.className = avatarElement.classList.contains('sidebar-avatar') ? 
                                    'sidebar-avatar-img' : 'profile-avatar-img';
                    img.src = avatarSrc;
                    
                    // Ocultamos el placeholder y mostramos la imagen
                    placeholderElement.style.display = 'none';
                    avatarElement.appendChild(img);
                }
            }
        }

        // Navegaci√≥n entre secciones
        const navButtons = document.querySelectorAll('.nav-btn');
        const sections = {
            'profile-btn': 'profile-section',
            'messages-btn': 'messages-section',
            'general-btn': 'general-section',
            'settings-btn': 'settings-section'
        };

        navButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remover clase activa de todos los botones
                navButtons.forEach(btn => btn.classList.remove('active'));
                
                // A√±adir clase activa al bot√≥n clickeado
                this.classList.add('active');
                
                // Ocultar todas las secciones
                Object.values(sections).forEach(sectionId => {
                    document.getElementById(sectionId).style.display = 'none';
                });
                
                // Mostrar la secci√≥n correspondiente
                const sectionId = sections[this.id];
                document.getElementById(sectionId).style.display = 'block';
            });
        });

        // Efecto adicional para los tooltips de los elementos del contenido
        document.querySelectorAll('.chat-item, .setting-item').forEach(item => {
            item.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
                this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.1)';
            });
            
            item.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
            });
        });

        // Funcionalidad para cambiar nombre y foto de perfil
        const sidebarAvatar = document.getElementById('sidebar-avatar');
        const profileAvatar = document.getElementById('profile-avatar');
        const avatarInput = document.getElementById('avatar-input');
        const editProfileBtn = document.getElementById('edit-profile-btn');
        const changePhotoBtn = document.getElementById('change-photo-btn');
        const profileName = document.getElementById('profile-name');
        const editNameModal = document.getElementById('edit-name-modal');
        const closeNameModalBtn = document.getElementById('close-name-modal');
        const cancelNameBtn = document.getElementById('cancel-name-btn');
        const saveNameBtn = document.getElementById('save-name-btn');
        const nameInput = document.getElementById('name-input');

        // Abrir modal para editar nombre
        profileName.addEventListener('click', function() {
            nameInput.value = userData.name;
            editNameModal.style.display = 'flex';
        });

        editProfileBtn.addEventListener('click', function() {
            nameInput.value = userData.name;
            editNameModal.style.display = 'flex';
        });

        // Cerrar modal de nombre
        function closeNameModal() {
            editNameModal.style.display = 'none';
        }

        closeNameModalBtn.addEventListener('click', closeNameModal);
        cancelNameBtn.addEventListener('click', closeNameModal);

        // Guardar cambios de nombre
        saveNameBtn.addEventListener('click', function() {
            if (nameInput.value.trim() !== '') {
                userData.name = nameInput.value.trim();
                saveUserData();
                updateUI();
            }
            closeNameModal();
        });

        // Cambiar avatar haciendo clic en los avatares o en el bot√≥n
        sidebarAvatar.addEventListener('click', function() {
            avatarInput.click();
        });

        profileAvatar.addEventListener('click', function() {
            avatarInput.click();
        });

        changePhotoBtn.addEventListener('click', function() {
            avatarInput.click();
        });

        // Procesar archivo seleccionado
        avatarInput.addEventListener('change', function() {
            if (this.files.length > 0) {
                const file = this.files[0];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    userData.avatar = e.target.result;
                    saveUserData();
                    updateUI();
                };
                
                reader.readAsDataURL(file);
            }
        });

        // Cargar datos al iniciar la p√°gina
        document.addEventListener('DOMContentLoaded', loadUserData);
    </script>
</body>
</html>
